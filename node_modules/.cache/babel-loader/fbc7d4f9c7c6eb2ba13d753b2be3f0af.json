{"ast":null,"code":"import React, { Fragment } from 'react';\nimport { gsap as gsap$2 } from 'gsap';\nimport { isForwardRef, isFragment } from 'react-is';\nimport { ScrollTrigger as ScrollTrigger$1 } from 'gsap/dist/ScrollTrigger';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\nvar PlayState;\n\n(function (PlayState) {\n  PlayState[\"play\"] = \"play\";\n  PlayState[\"restart\"] = \"restart\";\n  PlayState[\"reverse\"] = \"reverse\";\n  PlayState[\"restartReverse\"] = \"restartReverse\";\n  PlayState[\"stop\"] = \"stop\";\n  PlayState[\"stopEnd\"] = \"stopEnd\";\n  PlayState[\"pause\"] = \"pause\";\n  PlayState[\"resume\"] = \"resume\";\n})(PlayState || (PlayState = {}));\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.indexOf(searchString, position) === position;\n  };\n}\n\nvar setPlayState = function setPlayState(playState, prevPlayState, tween) {\n  if (tween === void 0) {\n    tween = null;\n  }\n\n  if (tween && playState && playState !== prevPlayState) {\n    if (playState === PlayState.play) {\n      tween.play();\n    } else if (playState === PlayState.restart) {\n      tween.restart(true);\n    } else if (playState === PlayState.reverse) {\n      tween.reverse();\n    } else if (playState === PlayState.restartReverse) {\n      tween.reverse(0);\n    } else if (playState === PlayState.stop) {\n      tween.pause(0);\n    } else if (playState === PlayState.stopEnd) {\n      tween.reverse(0);\n      tween.pause();\n    } else if (playState === PlayState.pause) {\n      tween.pause();\n    } else if (playState === PlayState.resume) {\n      tween.resume();\n    }\n  }\n};\n\nvar setInitialPlayState = function setInitialPlayState(tweenOrTimeline, props) {\n  var playState = props.playState;\n\n  if (playState) {\n    setPlayState(playState, PlayState.play, tweenOrTimeline);\n  }\n};\n\nvar getInitialPaused = function getInitialPaused(playState) {\n  return playState && (playState === PlayState.stop || playState === PlayState.stopEnd || playState === PlayState.pause);\n};\n\nvar getTweenFunction = function getTweenFunction(targets, props, context) {\n  var _context$getPlugins;\n\n  var _props$duration = props.duration,\n      duration = _props$duration === void 0 ? 1 : _props$duration,\n      from = props.from,\n      to = props.to,\n      stagger = props.stagger,\n      playState = props.playState,\n      onCompleteAll = props.onCompleteAll,\n      onCompleteAllParams = props.onCompleteAllParams,\n      onCompleteAllScope = props.onCompleteAllScope,\n      onStartAll = props.onStartAll,\n      vars = _objectWithoutPropertiesLoose(props, [\"children\", \"wrapper\", \"duration\", \"from\", \"to\", \"stagger\", \"progress\", \"totalProgress\", \"playState\", \"disabled\", \"onlyInvalidateTo\", \"onCompleteAll\", \"onCompleteAllParams\", \"onCompleteAllScope\", \"onStartAll\", \"position\", \"target\"]);\n\n  var tweenFunction;\n  var paused = getInitialPaused(playState);\n  var plugins = (_context$getPlugins = context === null || context === void 0 ? void 0 : context.getPlugins(context === null || context === void 0 ? void 0 : context.plugins, targets)) !== null && _context$getPlugins !== void 0 ? _context$getPlugins : {};\n\n  if (from && to) {\n    // special props like paused always go in the toVars parameter\n    tweenFunction = gsap$2.fromTo(targets, from, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, to, vars, plugins));\n  } else if (to) {\n    tweenFunction = gsap$2.to(targets, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, to, vars, plugins));\n  } else {\n    tweenFunction = gsap$2.from(targets, _extends({\n      stagger: stagger,\n      duration: duration,\n      paused: paused\n    }, from, vars, plugins));\n  } // if multiple tweens (stagger), wrap them in a timeline\n  // TODO: if it's already an timeline add event handlers\n\n\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(function (t) {\n      t.paused(false);\n    });\n    tweenFunction = gsap$2.timeline(_extends({}, vars, {\n      tweens: tweenFunction,\n      smoothChildTiming: true,\n      onComplete: onCompleteAll,\n      onCompleteParams: onCompleteAllParams,\n      onCompleteScope: onCompleteAllScope,\n      onStart: onStartAll\n    }));\n  }\n\n  return tweenFunction;\n};\n\nvar isEqual = function isEqual(obj1, obj2) {\n  // very easy equal check\n  // attention: if the order of properties are different it returns false\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n};\n\nfunction getReactNode(dom, traverseUp) {\n  if (traverseUp === void 0) {\n    traverseUp = 0;\n  }\n\n  var key = Object.keys(dom !== null && dom !== void 0 ? dom : {}).find(function (key) {\n    return key.startsWith('__reactInternalInstance$') || key.startsWith('__reactFiber$');\n  });\n  var domFiber = key && dom[key];\n  if (!domFiber) return null; // react <16\n\n  if (domFiber._currentElement) {\n    var _compFiber = domFiber._currentElement._owner;\n\n    for (var i = 0; i < traverseUp; i++) {\n      _compFiber = _compFiber._currentElement._owner;\n    }\n\n    return _compFiber._instance;\n  } // react 16+\n\n\n  if (domFiber.stateNode) {\n    return domFiber.stateNode;\n  }\n\n  var getCompFiber = function getCompFiber(fiber) {\n    //return fiber._debugOwner; // this also works, but is __DEV__ only\n    var parentFiber = fiber[\"return\"];\n\n    while (typeof parentFiber.type == 'string') {\n      parentFiber = parentFiber[\"return\"];\n    }\n\n    return parentFiber;\n  };\n\n  var compFiber = getCompFiber(domFiber);\n\n  for (var _i = 0; _i < traverseUp; _i++) {\n    compFiber = getCompFiber(compFiber);\n  }\n\n  return compFiber.stateNode;\n}\n\nvar getRefProp = function getRefProp(child, addTarget) {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: function innerRef(target) {\n        addTarget(target);\n        var innerRef = child.props.innerRef;\n        if (typeof innerRef === 'function') innerRef(target);else if (innerRef) innerRef.current = target;\n      }\n    };\n  }\n\n  return {\n    ref: function ref(target) {\n      addTarget(target);\n      var ref = child.ref;\n      if (typeof ref === 'function') ref(target);else if (ref) ref.current = target;\n    }\n  };\n};\n\nvar setOrAddTarget = function setOrAddTarget(target, setTarget, addTarget) {\n  var reactNode = getReactNode(target);\n\n  if (reactNode) {\n    addTarget(reactNode);\n  } else if (target) {\n    Object.keys(target).forEach(function (key) {\n      var elementRef = target[key];\n\n      if (typeof elementRef === 'object' && elementRef.current) {\n        if (Array.isArray(elementRef.current)) {\n          elementRef.current.forEach(function (singleRef) {\n            setTarget(key, singleRef);\n          });\n        } else {\n          setTarget(key, elementRef.current);\n        }\n      }\n    });\n  }\n};\n\nvar getTargetRefProp = function getTargetRefProp(child, setTarget, addTarget) {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: function innerRef(target) {\n        setOrAddTarget(target, setTarget, addTarget); // merge refs\n\n        var innerRef = child.props.innerRef;\n        if (typeof innerRef === 'function') innerRef(target);else if (innerRef) innerRef.current = target;\n      }\n    };\n  }\n\n  return {\n    ref: function ref(target) {\n      setOrAddTarget(target, setTarget, addTarget); // merge refs\n\n      var ref = child.ref;\n      if (typeof ref === 'function') ref(target);else if (ref) ref.current = target;\n    }\n  };\n};\n\nvar nullishCoalescing = function nullishCoalescing(value, ifNullish) {\n  if (value === null || typeof value === 'undefined') {\n    return ifNullish;\n  }\n\n  return value;\n};\n\nvar setProps = function setProps(tweenOrTimeline, props, prevProps) {\n  if (props.progress !== undefined && props.progress !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.progress)) {\n    tweenOrTimeline.progress(props.progress);\n  }\n\n  if (props.totalProgress !== undefined && props.totalProgress !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.totalProgress)) {\n    tweenOrTimeline.totalProgress(props.totalProgress);\n  }\n\n  if (tweenOrTimeline.duration !== undefined && props.duration && props.duration !== (prevProps === null || prevProps === void 0 ? void 0 : prevProps.duration)) {\n    tweenOrTimeline.duration(props.duration);\n  }\n};\n\nvar Context = /*#__PURE__*/React.createContext({\n  registerConsumer: function registerConsumer() {},\n  getPlugins: function getPlugins() {},\n  plugins: {}\n});\n\nvar Provider = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Provider, _React$Component);\n\n  function Provider(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.consumers = [];\n    _this.plugins = {};\n    _this.registerConsumer = _this.registerConsumer.bind(_assertThisInitialized(_this));\n    _this.getContextValue = _this.getContextValue.bind(_assertThisInitialized(_this));\n    _this.getPlugin = _this.getPlugin.bind(_assertThisInitialized(_this));\n    _this.getPlugins = _this.getPlugins.bind(_assertThisInitialized(_this));\n    _this.renderWithProvider = _this.renderWithProvider.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Provider.prototype;\n\n  _proto.registerConsumer = function registerConsumer(consumer) {\n    this.consumers.push(consumer);\n  };\n\n  _proto.getContextValue = function getContextValue(plugin) {\n    if (plugin === void 0) {\n      plugin = {};\n    }\n\n    return {\n      registerConsumer: this.registerConsumer,\n      // plugins: { ...this.context.plugins, ...plugin },\n      plugins: plugin,\n      getPlugins: this.getPlugins\n    };\n  };\n\n  _proto.getPlugin = function getPlugin(props, targets) {\n    return {};\n  };\n\n  _proto.getPlugins = function getPlugins(plugins, targets) {\n    var _this2 = this;\n\n    return Object.keys(plugins !== null && plugins !== void 0 ? plugins : {}).reduce(function (acc, plugin) {\n      if (Object.prototype.hasOwnProperty.call(plugins, plugin)) {\n        var _extends2; // @ts-ignore\n\n\n        return _extends({}, acc, (_extends2 = {}, _extends2[plugin] = _this2.getPlugin(plugins[plugin], targets), _extends2));\n      }\n\n      return acc;\n    }, {});\n  };\n\n  _proto.renderWithProvider = function renderWithProvider(output, plugin) {\n    return React.createElement(Context.Provider, {\n      value: this.getContextValue(plugin)\n    }, output);\n  };\n\n  return Provider;\n}(React.Component);\n\nProvider.contextType = Context;\nvar gsap;\n\nvar _interpolate;\n\nvar _getProp;\n\nvar _getGSAP = function _getGSAP() {\n  return gsap || typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n};\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return 2 * Math.PI * parseFloat(nullishCoalescing(el.getAttribute('r'), '1') || '0');\n}\n\nfunction getRectLength(el) {\n  return parseFloat(nullishCoalescing(el.getAttribute('width'), '1') || '0') * 2 + parseFloat(nullishCoalescing(el.getAttribute('height'), '1') || '0') * 2;\n}\n\nfunction getLineLength(el) {\n  return getDistance({\n    x: parseFloat(nullishCoalescing(el.getAttribute('x1'), '1') || '0'),\n    y: parseFloat(nullishCoalescing(el.getAttribute('y1'), '1') || '0')\n  }, {\n    x: parseFloat(nullishCoalescing(el.getAttribute('x2'), '1') || '0'),\n    y: parseFloat(nullishCoalescing(el.getAttribute('y2'), '1') || '0')\n  });\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos = undefined;\n\n  for (var i = 0; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (previousPos) totalLength += getDistance(previousPos, currentPos);\n    previousPos = currentPos;\n  }\n\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n} // if path is splitted into multiple move commands then return longest path\n\n\nfunction getPathLength(el) {\n  if (!el.hasAttribute('d')) {\n    return el.getTotalLength();\n  }\n\n  var d = el.getAttribute('d');\n  var pathString = d ? d.replace(/m/gi, 'M') : null;\n\n  if (!pathString) {\n    return el.getTotalLength();\n  }\n\n  var paths = pathString.split('M').filter(function (path) {\n    return path !== '';\n  }).map(function (path) {\n    return \"M\" + path;\n  });\n\n  if (paths.length === 1) {\n    return el.getTotalLength();\n  }\n\n  var maxLength = 0;\n  paths.forEach(function (path) {\n    var pathElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    pathElement.setAttribute('d', path);\n    maxLength = Math.max(maxLength, pathElement.getTotalLength());\n  });\n  return maxLength;\n}\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) {\n    return getPathLength(el);\n  }\n\n  switch (el.tagName.toLowerCase()) {\n    case 'circle':\n      return getCircleLength(el);\n\n    case 'rect':\n      return getRectLength(el);\n\n    case 'line':\n      return getLineLength(el);\n\n    case 'polyline':\n      return getPolylineLength(el);\n\n    case 'polygon':\n      return getPolygonLength(el);\n\n    default:\n      return 0;\n  }\n}\n\nvar SvgDrawPlugin = {\n  version: '2.0.0',\n  name: 'svgDraw',\n  register: function register(core, Plugin, propTween) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _getProp = gsap.getProperty;\n  },\n  init: function init(target, value, _tween, index, targets) {\n    var length = getTotalLength(target);\n    var lengthParam = value;\n    var offsetParam = 0;\n\n    if (Array.isArray(value)) {\n      lengthParam = value[0];\n\n      if (value.length >= 2) {\n        offsetParam = value[1] * -1;\n      }\n    }\n\n    var data = this;\n    data.target = target;\n    data.strokeDashoffset = _interpolate(_getProp(target, 'stroke-dashoffset'), length * offsetParam);\n    data.strokeDasharray = _interpolate(_getProp(target, 'stroke-dasharray'), [lengthParam * length, length]);\n  },\n  render: function render(progress, data) {\n    data.target.setAttribute('stroke-dashoffset', data.strokeDashoffset(progress));\n    data.target.setAttribute('stroke-dasharray', data.strokeDasharray(progress));\n  }\n};\n_getGSAP() && gsap.registerPlugin(SvgDrawPlugin);\nvar gsap$1;\n\nvar _interpolate$1;\n\nvar _format;\n\nvar _getGSAP$1 = function _getGSAP() {\n  return gsap$1 || typeof window !== 'undefined' && (gsap$1 = window.gsap) && gsap$1.registerPlugin && gsap$1;\n};\n\nvar CountPlugin = {\n  version: '1.0.0',\n  name: 'count',\n  register: function register(core, Plugin, propTween) {\n    gsap$1 = core;\n    _interpolate$1 = gsap$1.utils.interpolate;\n\n    _format = function _format(value) {\n      return parseInt(value.toString(), 10);\n    };\n  },\n  init: function init(target, value, _tween, index, targets) {\n    var inputValue = value;\n    var format = _format;\n\n    if (typeof value === 'object') {\n      inputValue = nullishCoalescing(value.value, 0);\n\n      if (value.format) {\n        format = value.format;\n      }\n    }\n\n    var initialCount = parseFloat(target.innerText);\n    var data = this;\n    data.target = target;\n    data.count = _interpolate$1(initialCount, parseFloat(inputValue.toString()));\n    data.format = format;\n  },\n  render: function render(progress, data) {\n    data.target.innerText = data.format(data.count(progress));\n  }\n};\n_getGSAP$1() && gsap$1.registerPlugin(CountPlugin);\ngsap$2.registerPlugin(SvgDrawPlugin); // @ts-ignore\n\ngsap$2.registerPlugin(CountPlugin);\n\nvar Tween = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Tween, _React$Component);\n\n  function Tween(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.targets = [];\n    _this.addTarget = _this.addTarget.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Tween.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.createTween(); // props at mount\n\n    setProps(this.tween, this.props);\n    setInitialPlayState(this.tween, this.props);\n    this.context.registerConsumer(this);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n  };\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n    this.targets = [];\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props = this.props,\n        children = _this$props.children,\n        to = _this$props.to,\n        playState = _this$props.playState,\n        disabled = _this$props.disabled,\n        onlyInvalidateTo = _this$props.onlyInvalidateTo,\n        vars = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"wrapper\", \"duration\", \"from\", \"to\", \"stagger\", \"progress\", \"totalProgress\", \"playState\", \"disabled\", \"onlyInvalidateTo\", \"onCompleteAll\", \"onCompleteAllParams\", \"onCompleteAllScope\", \"onStartAll\", \"position\", \"target\"]); // if children change create a new tween\n    // TODO: replace easy length check with fast equal check\n\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTween();\n    }\n\n    if (disabled) {\n      return;\n    } // execute function calls\n\n\n    setProps(this.tween, this.props, prevProps); // if \"to\" props are changed: reinit and restart tween\n\n    if (!isEqual(to, prevProps.to)) {\n      // is Tween\n      if (!this.tween.getChildren) {\n        this.tween.vars = _extends({}, to, vars);\n\n        if (onlyInvalidateTo) {\n          var progressTmp = this.tween.progress();\n          this.tween.progress(0).invalidate().progress(progressTmp);\n        } else {\n          this.tween.invalidate();\n        }\n      } // is Timeline\n      // TODO: not yet ready\n      else {\n          var delay = 0;\n          this.tween.getChildren(false, true, false).forEach(function (tween) {\n            tween.vars = _extends({}, to, vars, {\n              delay: delay\n            });\n            tween.invalidate(); // delay += stagger || 0;\n          });\n        }\n\n      if (!this.tween.paused()) {\n        this.tween.restart();\n      }\n    }\n\n    setPlayState(playState, prevProps.playState, this.tween);\n  };\n\n  _proto.createTween = function createTween() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n\n    if (this.props.children) {\n      this.tween = getTweenFunction(this.targets, this.props, this.context);\n    } else {\n      // why this is needed?\n      this.tween = function () {};\n    }\n  };\n\n  _proto.getGSAP = function getGSAP() {\n    return this.tween;\n  };\n\n  _proto.setGSAP = function setGSAP(tween) {\n    this.tween = tween;\n  };\n\n  _proto.addTarget = function addTarget(target) {\n    // target is null at unmount\n    if (target !== null) {\n      this.targets.push(target);\n    }\n  };\n\n  _proto.getTargets = function getTargets() {\n    return this.targets;\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        wrapper = _this$props2.wrapper;\n    var output = React.createElement(Fragment, null, React.Children.map(children, function (child) {\n      return React.cloneElement(child, getRefProp(child, _this2.addTarget));\n    }));\n\n    if (wrapper) {\n      return React.cloneElement(wrapper, [], output);\n    }\n\n    return output;\n  };\n\n  return Tween;\n}(React.Component);\n\nTween.displayName = 'Tween';\nTween.contextType = Context;\n\nvar Timeline = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Timeline, _Provider);\n\n  function Timeline(props) {\n    var _this;\n\n    _this = _Provider.call(this, props) || this;\n    _this.targets = new Map();\n    _this.addTarget = _this.addTarget.bind(_assertThisInitialized(_this));\n    _this.setTarget = _this.setTarget.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = Timeline.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.createTimeline(); // props at mount\n\n    setProps(this.timeline, this.props);\n    setInitialPlayState(this.timeline, this.props);\n    this.context.registerConsumer(this);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.timeline.kill();\n  };\n\n  _proto.getSnapshotBeforeUpdate = function getSnapshotBeforeUpdate() {\n    this.targets = new Map();\n    return null;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props = this.props,\n        children = _this$props.children,\n        playState = _this$props.playState; // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTimeline();\n    } // execute function calls\n\n\n    setProps(this.timeline, this.props, prevProps); // TODO: need rerender or something if target change?\n    // if (target !== prevProps.target) {\n    //   this.forceUpdate();\n    // }\n\n    setPlayState(playState, prevProps.playState, this.timeline);\n  };\n\n  _proto.createTimeline = function createTimeline() {\n    var _this$context$getPlug,\n        _this$context,\n        _this$context2,\n        _this2 = this;\n\n    var _this$props2 = this.props,\n        playState = _this$props2.playState,\n        labels = _this$props2.labels,\n        vars = _objectWithoutPropertiesLoose(_this$props2, [\"children\", \"target\", \"duration\", \"progress\", \"totalProgress\", \"playState\", \"labels\", \"position\"]);\n\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n\n    var plugins = (_this$context$getPlug = (_this$context = this.context) === null || _this$context === void 0 ? void 0 : _this$context.getPlugins((_this$context2 = this.context) === null || _this$context2 === void 0 ? void 0 : _this$context2.plugins, this.targets)) !== null && _this$context$getPlug !== void 0 ? _this$context$getPlug : {}; // init timeline\n\n    this.timeline = gsap$2.timeline(_extends({\n      smoothChildTiming: true,\n      paused: getInitialPaused(playState)\n    }, vars, plugins));\n\n    if (labels) {\n      labels.forEach(function (label) {\n        _this2.timeline.addLabel(label.label, label.position);\n      });\n    } // add tweens or nested timelines to timeline\n\n\n    this.consumers.forEach(function (consumer) {\n      // Tween with no children -> control Timeline target\n      if (consumer.tween && !consumer.props.children) {\n        var _consumer$props = consumer.props,\n            _position = _consumer$props.position,\n            _target = _consumer$props.target,\n            stagger = _consumer$props.stagger,\n            _vars = _objectWithoutPropertiesLoose(_consumer$props, [\"position\", \"target\", \"stagger\"]); // get target if not nullish\n\n\n        var targets = null;\n\n        if (_target !== null && typeof _target !== 'undefined') {\n          targets = _this2.targets.get(_target);\n        } // if no target found -> take all Timeline targets as target\n\n\n        var tween = getTweenFunction( // @ts-ignore\n        nullishCoalescing(targets, Array.from(_this2.targets.values())), _extends({\n          stagger: stagger\n        }, _vars));\n\n        _this2.timeline.add(tween, nullishCoalescing(_position, '+=0'));\n\n        consumer.setGSAP(tween);\n      } else {\n        var _position2 = consumer.props.position;\n\n        _this2.timeline.add(consumer.getGSAP(), nullishCoalescing(_position2, '+=0'));\n      }\n    });\n  };\n\n  _proto.getGSAP = function getGSAP() {\n    return this.timeline;\n  };\n\n  _proto.addTarget = function addTarget(target) {\n    if (target !== null) {\n      this.targets.set(this.targets.size, target);\n    }\n  };\n\n  _proto.setTarget = function setTarget(key, target) {\n    if (target !== null) {\n      if (this.targets.has(key)) {\n        var targets = this.targets.get(key);\n\n        if (Array.isArray(targets)) {\n          this.targets.set(key, [].concat(targets, [target]));\n        } else {\n          this.targets.set(key, [targets, target]);\n        }\n      } else {\n        this.targets.set(key, target);\n      }\n    }\n  };\n\n  _proto.setTargets = function setTargets(targets) {\n    this.targets = targets;\n  };\n\n  _proto.getTargets = function getTargets() {\n    return this.targets;\n  };\n\n  _proto.cloneElement = function cloneElement(child) {\n    // @ts-ignore\n    return React.cloneElement(child, getTargetRefProp(child, this.setTarget, this.addTarget));\n  };\n\n  _proto.renderTarget = function renderTarget(target) {\n    var _this3 = this;\n\n    if (!target) {\n      return null;\n    } // if is forwardRef clone and pass targets as ref\n\n\n    if (isForwardRef(target)) {\n      return this.cloneElement(target);\n    } // else iterate the first level of children and set targets\n\n\n    return React.createElement(Fragment, null, React.Children.map(target, function (child) {\n      if (isFragment(child)) {\n        return React.Children.map(child.props.children, function (fragmentChild) {\n          return _this3.cloneElement(fragmentChild);\n        });\n      }\n\n      return _this3.cloneElement(child);\n    }));\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        target = _this$props3.target,\n        children = _this$props3.children,\n        wrapper = _this$props3.wrapper;\n    var renderedTarget = this.renderTarget(target);\n    var output = React.createElement(Fragment, null, renderedTarget, children);\n\n    if (wrapper) {\n      output = React.cloneElement(wrapper, [], output);\n    }\n\n    return this.renderWithProvider(output);\n  };\n\n  return Timeline;\n}(Provider);\n\nTimeline.displayName = 'Timeline';\nTimeline.defaultProps = {\n  playState: PlayState.play\n};\nvar EntryState;\n\n(function (EntryState) {\n  EntryState[EntryState[\"unknown\"] = 0] = \"unknown\";\n  EntryState[EntryState[\"entered\"] = 1] = \"entered\";\n  EntryState[EntryState[\"exited\"] = 2] = \"exited\";\n})(EntryState || (EntryState = {}));\n\nvar Reveal = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Reveal, _Provider);\n\n  function Reveal() {\n    var _this;\n\n    _this = _Provider.apply(this, arguments) || this;\n    _this.triggerRef = null;\n    _this.observer = null;\n\n    _this.intersectionObserverCallback = function (entries) {\n      var _this$props = _this.props,\n          repeat = _this$props.repeat,\n          threshold = _this$props.threshold;\n      var state = EntryState.unknown;\n\n      for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\n        var entry = _step.value;\n\n        if (entry.isIntersecting && entry.intersectionRatio >= threshold) {\n          _this.timeline.play();\n\n          state = EntryState.entered;\n          break;\n        } else if (!entry.isIntersecting) {\n          state = EntryState.exited;\n          break;\n        }\n      }\n\n      if (!repeat && state === EntryState.entered) {\n        _this.killIntersectionObserver();\n      } else if (repeat && state === EntryState.exited) {\n        _this.timeline.pause(0);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Reveal.prototype;\n\n  _proto.init = function init() {\n    this.createTimeline();\n    this.createIntersectionObserver();\n  };\n\n  _proto.kill = function kill() {\n    this.killTimeline();\n    this.killIntersectionObserver();\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.init();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.kill();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        trigger = _this$props2.trigger; // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.init();\n    }\n\n    if (prevProps.trigger !== trigger) {\n      this.init();\n    }\n  };\n\n  _proto.createTimeline = function createTimeline() {\n    var _this2 = this;\n\n    this.killTimeline(); // init timeline\n\n    this.timeline = gsap$2.timeline({\n      smoothChildTiming: true,\n      paused: true\n    }); // add consumers\n\n    this.consumers.forEach(function (consumer) {\n      var position = consumer.props.position;\n\n      _this2.timeline.add(consumer.getGSAP().play(), nullishCoalescing(position, 0));\n    });\n  };\n\n  _proto.killTimeline = function killTimeline() {\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n  };\n\n  _proto.createIntersectionObserver = function createIntersectionObserver() {\n    var _this3 = this;\n\n    var _this$props3 = this.props,\n        root = _this$props3.root,\n        rootMargin = _this$props3.rootMargin,\n        threshold = _this$props3.threshold;\n    var options = {\n      root: root,\n      rootMargin: rootMargin,\n      threshold: [0, threshold]\n    };\n    this.observer = new IntersectionObserver(this.intersectionObserverCallback, options); // It would be better if we wouldn't need an extra wrapper.\n    // But it can be problematic for example with a fadeInLeft animation\n    // were the element is out of the viewport in the initial state.\n    // In this case there wouldn't be an intersection..\n\n    if (!this.triggerRef) {\n      this.consumers.forEach(function (consumer) {\n        consumer.getTargets().forEach(function (target) {\n          _this3.observer && _this3.observer.observe(target);\n        });\n      });\n    } else {\n      this.observer && this.observer.observe(this.triggerRef);\n    }\n  };\n\n  _proto.killIntersectionObserver = function killIntersectionObserver() {\n    this.unobserveAll();\n    this.observer = null;\n  };\n\n  _proto.unobserveAll = function unobserveAll() {\n    var _this4 = this;\n\n    if (this.observer) {\n      if (!this.triggerRef) {\n        this.consumers.forEach(function (consumer) {\n          consumer.getTargets().forEach(function (target) {\n            _this4.observer && _this4.observer.unobserve(target);\n          });\n        });\n      } else {\n        this.observer && this.observer.unobserve(this.triggerRef);\n      }\n    }\n  };\n\n  _proto.getGSAP = function getGSAP() {\n    return this.timeline;\n  };\n\n  _proto.render = function render() {\n    var _this5 = this;\n\n    var _this$props4 = this.props,\n        children = _this$props4.children,\n        trigger = _this$props4.trigger;\n    var output = trigger ? React.createElement(trigger.type, Object.assign({}, trigger.props, {\n      ref: function ref(trigger) {\n        return _this5.triggerRef = trigger;\n      }\n    }), children) : children;\n    return this.renderWithProvider(output);\n  };\n\n  return Reveal;\n}(Provider);\n\nReveal.displayName = 'Reveal';\nReveal.defaultProps = {\n  trigger: null,\n  repeat: false,\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.66\n};\ngsap$2.registerPlugin(ScrollTrigger$1);\n\nvar ScrollTrigger = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(ScrollTrigger, _Provider);\n\n  function ScrollTrigger(props) {\n    var _this;\n\n    _this = _Provider.call(this, props) || this;\n    _this.scrollTrigger = null;\n    _this.targets = {};\n    _this.getPlugin = _this.getPlugin.bind(_assertThisInitialized(_this));\n    return _this;\n  } // override and pass registerConsumer to next parent provider\n\n\n  var _proto = ScrollTrigger.prototype;\n\n  _proto.registerConsumer = function registerConsumer(consumer) {\n    this.context.registerConsumer(consumer);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        scrollTrigger = _objectWithoutPropertiesLoose(_this$props, [\"children\"]);\n\n    if (!children) {\n      this.scrollTrigger = ScrollTrigger$1.create(scrollTrigger);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.scrollTrigger) {\n      this.scrollTrigger.kill();\n    }\n  } // componentDidUpdate(prevProps: ScrollTriggerProps) {\n  //   const { trigger } = this.props;\n  //\n  //   if (trigger !== prevProps.trigger) {\n  //     console.log('prevProps.trigger', prevProps.trigger);\n  //     console.log('trigger', trigger);\n  //   }\n  // }\n  ;\n\n  _proto.getGSAP = function getGSAP() {\n    return this.scrollTrigger;\n  };\n\n  _proto.getPlugin = function getPlugin(props, targets) {\n    var triggerProp = props.trigger,\n        scrollTrigger = _objectWithoutPropertiesLoose(props, [\"children\", \"trigger\"]);\n\n    var trigger = triggerProp;\n\n    if (targets instanceof Map) {\n      if (trigger) {\n        var target = targets.get(trigger);\n\n        if (target) {\n          trigger = target;\n        }\n      } else {\n        trigger = Array.from(targets.values());\n      }\n    } else if (!trigger) {\n      trigger = targets;\n    }\n\n    return _extends({\n      trigger: trigger\n    }, scrollTrigger);\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        children = _this$props2.children,\n        scrollTrigger = _objectWithoutPropertiesLoose(_this$props2, [\"children\"]);\n\n    if (!children) {\n      return null;\n    }\n\n    return this.renderWithProvider(children, {\n      scrollTrigger: scrollTrigger\n    });\n  };\n\n  return ScrollTrigger;\n}(Provider);\n\nScrollTrigger.displayName = 'ScrollTrigger';\nScrollTrigger.contextType = Context;\n\nvar escapeRegExp = function escapeRegExp(regExp) {\n  var specialChars = ['$', '^', '*', '(', ')', '+', '[', ']', '{', '}', '\\\\', '|', '.', '?', '/'];\n  var regex = new RegExp('(\\\\' + specialChars.join('|\\\\') + ')', 'g');\n  return regExp.replace(regex, '\\\\$1');\n}; // TODO: possible or better to output all the refs as one array?\n\n\nvar SplitWords = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n      wrapper = _ref.wrapper,\n      _ref$delimiter = _ref.delimiter,\n      delimiter = _ref$delimiter === void 0 ? ' ' : _ref$delimiter;\n\n  if (typeof children !== 'string') {\n    throw new Error('SplitWords only accepts a string as child.');\n  }\n\n  var words = children.split(new RegExp(\"(\" + escapeRegExp(delimiter) + \")\", 'g'));\n  return React.createElement(React.Fragment, null, words.map(function (word, i) {\n    if (delimiter === ' ' && word === delimiter) {\n      return React.createElement(React.Fragment, {\n        key: i\n      }, \" \");\n    }\n\n    return React.cloneElement(wrapper, {\n      ref: ref,\n      key: i\n    }, word);\n  }));\n}); // TODO: possible or better to output all the refs as one array?\n\nvar SplitChars = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var children = _ref2.children,\n      wrapper = _ref2.wrapper;\n\n  if (typeof children !== 'string') {\n    throw new Error('SplitChars only accepts a string as child.');\n  }\n\n  return React.createElement(React.Fragment, null, children.split(/(?=(?:[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/).map(function (_char, i) {\n    // TODO: enhance check for space\n    if (_char === ' ') {\n      return React.createElement(React.Fragment, {\n        key: i\n      }, \" \");\n    }\n\n    return React.cloneElement(wrapper, {\n      ref: ref,\n      key: i\n    }, _char);\n  }));\n});\nvar SplitLetters = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  console.warn('Deprecation warning: Use SplitChars instead of SplitLetters');\n  return React.createElement(SplitChars, Object.assign({}, props, {\n    ref: ref\n  }));\n});\n\nvar Controls = /*#__PURE__*/function (_Provider) {\n  _inheritsLoose(Controls, _Provider);\n\n  function Controls() {\n    var _this;\n\n    _this = _Provider.apply(this, arguments) || this;\n    _this.sliderTouched = false;\n    _this.state = {\n      totalProgress: 0,\n      playState: undefined,\n      prevPlayState: undefined\n    };\n    _this.containerStyle = {\n      backgroundColor: '#f0f0f0',\n      padding: '10px 10px 0 10px',\n      marginTop: '10px',\n      position: 'relative',\n      zIndex: 2,\n      fontFamily: 'verdana, sans-serif',\n      fontSize: '16px',\n      border: '1px solid #ccc'\n    };\n    _this.buttonContainerStyle = {\n      margin: '0',\n      display: 'flex',\n      flexWrap: 'wrap',\n      justifyContent: 'space-between'\n    };\n    _this.buttonStyle = {\n      border: '1px solid #999',\n      backgroundColor: '#f0f0f0',\n      padding: '5px',\n      margin: '10px 10px 10px 0',\n      cursor: 'pointer'\n    };\n    _this.sliderStyle = {\n      margin: '0',\n      width: '100%'\n    };\n    _this.playStateStyle = {\n      color: '#999',\n      margin: '10px 0',\n      fontSize: '14px'\n    };\n\n    _this.onUpdate = function () {\n      if (_this.gsap && _this.slider && !_this.sliderTouched) {\n        var totalProgress = _this.gsap.getGSAP().totalProgress();\n\n        _this.slider.value = totalProgress * 100;\n      }\n    };\n\n    _this.onChange = function (event) {\n      if (_this.gsap && _this.gsap.getGSAP()) {\n        _this.gsap.getGSAP().totalProgress(event.target.value / 100);\n      }\n    };\n\n    _this.setPlayState = function (state) {\n      _this.setState(function (prevState) {\n        return {\n          playState: state,\n          prevPlayState: prevState.playState\n        };\n      });\n    };\n\n    _this.getControls = function (_totalProgress, playState) {\n      return React.createElement(\"div\", {\n        style: _this.containerStyle\n      }, React.createElement(\"input\", {\n        ref: function ref(el) {\n          return _this.slider = el;\n        },\n        type: \"range\",\n        style: _this.sliderStyle,\n        step: \"0.001\",\n        onChange: function onChange(e) {\n          return _this.onChange(e);\n        },\n        onMouseDown: function onMouseDown() {\n          return _this.sliderTouched = true;\n        },\n        onMouseUp: function onMouseUp() {\n          return _this.sliderTouched = false;\n        }\n      }), React.createElement(\"div\", {\n        style: _this.buttonContainerStyle\n      }, React.createElement(\"div\", null, React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.play);\n        }\n      }, \"Play\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.reverse);\n        }\n      }, \"Reverse\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.pause);\n        }\n      }, \"Pause\"), React.createElement(\"button\", {\n        type: \"button\",\n        style: _this.buttonStyle,\n        onClick: function onClick() {\n          return _this.setPlayState(PlayState.stop);\n        }\n      }, \"Stop\")), React.createElement(\"span\", {\n        style: _this.playStateStyle\n      }, playState)));\n    };\n\n    return _this;\n  }\n\n  var _proto = Controls.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.consumers.length) {\n      this.gsap = this.consumers[0];\n      var gsap = this.gsap.getGSAP();\n\n      if (gsap) {\n        gsap.eventCallback('onUpdate', this.onUpdate);\n\n        if (this.props.playState) {\n          this.setPlayState(this.props.playState);\n        } else {\n          // get child initial state\n          if (gsap.paused()) {\n            this.setPlayState(PlayState.pause);\n          } else if (gsap.reversed()) {\n            this.setPlayState(PlayState.reverse);\n          } else {\n            this.setPlayState(PlayState.play);\n          }\n        }\n\n        var totalProgress = gsap.totalProgress();\n        this.slider.value = totalProgress * 100;\n      }\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.onUpdate();\n  };\n\n  _proto.render = function render() {\n    var children = this.props.children;\n    var _this$state = this.state,\n        totalProgress = _this$state.totalProgress,\n        playState = _this$state.playState,\n        prevPlayState = _this$state.prevPlayState;\n\n    if (this.gsap) {\n      setPlayState(playState, prevPlayState, this.gsap.getGSAP());\n    }\n\n    return this.renderWithProvider(React.createElement(\"div\", null, children, this.getControls(totalProgress, playState)));\n  };\n\n  return Controls;\n}(Provider);\n\nexport { Controls, PlayState, Reveal, ScrollTrigger, SplitChars, SplitLetters, SplitWords, Timeline, Tween };","map":{"version":3,"sources":["../src/types.ts","../src/helper.ts","../src/Provider.tsx","../src/plugins/PlugInSvgDraw.ts","../src/plugins/PlugInCount.ts","../src/Tween.tsx","../src/Timeline.tsx","../src/tools/Reveal.tsx","../src/tools/ScrollTrigger.tsx","../src/tools/SplitText.tsx","../src/tools/Controls.tsx"],"names":["PlayState","String","position","setPlayState","tween","playState","setInitialPlayState","props","getInitialPaused","getTweenFunction","duration","from","to","stagger","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","vars","paused","plugins","context","tweenFunction","Array","t","tweens","smoothChildTiming","onComplete","onCompleteParams","onCompleteScope","onStart","isEqual","JSON","traverseUp","key","dom","domFiber","compFiber","i","getCompFiber","parentFiber","fiber","getRefProp","child","innerRef","addTarget","ref","setOrAddTarget","reactNode","getReactNode","Object","elementRef","target","setTarget","getTargetRefProp","nullishCoalescing","value","setProps","prevProps","tweenOrTimeline","Context","registerConsumer","getPlugins","Provider","React","Component","getContextValue","plugin","getPlugin","renderWithProvider","_getGSAP","gsap","window","Math","p2","p1","parseFloat","el","getDistance","x","y","points","totalLength","previousPos","currentPos","getPolylineLength","d","pathString","paths","path","maxLength","pathElement","document","getPathLength","getCircleLength","getRectLength","getLineLength","getPolygonLength","SvgDrawPlugin","version","name","register","_interpolate","_getProp","init","length","getTotalLength","lengthParam","offsetParam","data","render","CountPlugin","_format","parseInt","inputValue","format","initialCount","Tween","componentDidMount","componentWillUnmount","getSnapshotBeforeUpdate","componentDidUpdate","children","disabled","onlyInvalidateTo","progressTmp","delay","createTween","getGSAP","setGSAP","getTargets","wrapper","output","Timeline","play","createTimeline","labels","label","consumer","targets","setTargets","cloneElement","renderTarget","isForwardRef","isFragment","renderedTarget","EntryState","Reveal","trigger","repeat","root","rootMargin","threshold","kill","killTimeline","createIntersectionObserver","options","killIntersectionObserver","unobserveAll","state","entry","ScrollTrigger","scrollTrigger","ScrollTriggerPlugin","triggerProp","escapeRegExp","specialChars","regex","regExp","SplitWords","delimiter","words","word","SplitChars","char","SplitLetters","console","Controls","totalProgress","prevPlayState","undefined","backgroundColor","padding","marginTop","zIndex","fontFamily","fontSize","border","margin","display","flexWrap","justifyContent","cursor","width","color","event","prevState","style","containerStyle","type","sliderStyle","step","onChange","onMouseDown","onMouseUp","buttonContainerStyle","buttonStyle","onClick","playStateStyle"],"mappings":"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","sourcesContent":["export enum PlayState {\n  play = 'play',\n  restart = 'restart',\n  reverse = 'reverse',\n  restartReverse = 'restartReverse',\n  stop = 'stop',\n  stopEnd = 'stopEnd',\n  pause = 'pause',\n  resume = 'resume',\n}\n","import { gsap } from 'gsap';\nimport React from 'react';\nimport { PlayState } from './types';\nimport { TimelineProps } from 'Timeline';\nimport { TweenProps } from 'Tween';\nimport { ContextProps } from 'Provider';\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function(searchString, position) {\n    position = position || 0;\n    return this.indexOf(searchString, position) === position;\n  };\n}\n\nconst setPlayState = (\n  playState?: PlayState,\n  prevPlayState?: PlayState | null,\n  tween: any = null\n) => {\n  if (tween && playState && playState !== prevPlayState) {\n    if (playState === PlayState.play) {\n      tween.play();\n    } else if (playState === PlayState.restart) {\n      tween.restart(true);\n    } else if (playState === PlayState.reverse) {\n      tween.reverse();\n    } else if (playState === PlayState.restartReverse) {\n      tween.reverse(0);\n    } else if (playState === PlayState.stop) {\n      tween.pause(0);\n    } else if (playState === PlayState.stopEnd) {\n      tween.reverse(0);\n      tween.pause();\n    } else if (playState === PlayState.pause) {\n      tween.pause();\n    } else if (playState === PlayState.resume) {\n      tween.resume();\n    }\n  }\n};\n\nconst setInitialPlayState = (tweenOrTimeline: any, props: TimelineProps | TweenProps) => {\n  const { playState } = props;\n  if (playState) {\n    setPlayState(playState, PlayState.play, tweenOrTimeline);\n  }\n};\n\nconst getInitialPaused = (playState?: PlayState) => {\n  return (\n    playState &&\n    (playState === PlayState.stop ||\n      playState === PlayState.stopEnd ||\n      playState === PlayState.pause)\n  );\n};\n\nconst getTweenFunction = (\n  targets: any,\n  props: TweenProps | TimelineProps,\n  context?: ContextProps\n): gsap.core.Tween | gsap.core.Timeline => {\n  const {\n    children,\n    wrapper,\n\n    duration = 1,\n    from,\n    to,\n\n    stagger,\n\n    progress,\n    totalProgress,\n    playState,\n    disabled,\n    onlyInvalidateTo,\n\n    onCompleteAll,\n    onCompleteAllParams,\n    onCompleteAllScope,\n    onStartAll,\n\n    position,\n    target,\n\n    ...vars\n  } = props;\n\n  let tweenFunction: gsap.core.Tween | gsap.core.Timeline;\n  const paused = getInitialPaused(playState);\n  const plugins = context?.getPlugins(context?.plugins, targets) ?? {};\n\n  if (from && to) {\n    // special props like paused always go in the toVars parameter\n    tweenFunction = gsap.fromTo(targets, from, {\n      stagger,\n      duration,\n      paused,\n      ...to,\n      ...vars,\n      ...plugins,\n    });\n  } else if (to) {\n    tweenFunction = gsap.to(targets, { stagger, duration, paused, ...to, ...vars, ...plugins });\n  } else {\n    tweenFunction = gsap.from(targets, { stagger, duration, paused, ...from, ...vars, ...plugins });\n  }\n\n  // if multiple tweens (stagger), wrap them in a timeline\n  // TODO: if it's already an timeline add event handlers\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(t => {\n      t.paused(false);\n    });\n    tweenFunction = gsap.timeline({\n      ...vars,\n      tweens: tweenFunction,\n      smoothChildTiming: true,\n      onComplete: onCompleteAll,\n      onCompleteParams: onCompleteAllParams,\n      onCompleteScope: onCompleteAllScope,\n      onStart: onStartAll,\n    });\n  }\n\n  return tweenFunction;\n};\n\nconst callTweenFunction = (\n  tweenFunction: any,\n  functionName: string,\n  params: Array<any> | undefined = undefined,\n  returnFunction: string | undefined = undefined\n): void => {\n  if (Array.isArray(tweenFunction)) {\n    tweenFunction.forEach(tween => {\n      if (!params && returnFunction) {\n        params = [tween[returnFunction].apply(tween)];\n      }\n      tween[functionName].apply(tween, params);\n    });\n  } else {\n    if (!params && returnFunction) {\n      params = [tweenFunction[returnFunction].apply(tweenFunction)];\n    }\n    tweenFunction[functionName].apply(tweenFunction, params);\n  }\n};\n\nconst isEqual = (obj1: any, obj2: any) => {\n  // very easy equal check\n  // attention: if the order of properties are different it returns false\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n};\n\nconst refOrInnerRef = (child: any) => {\n  if (child.type.$$typeof && child.type.$$typeof.toString() === 'Symbol(react.forward_ref)') {\n    return 'ref';\n  }\n\n  // styled-components < 4\n  if (child.type.styledComponentId) {\n    return 'innerRef';\n  }\n\n  return 'ref';\n};\n\nfunction isElement(element: any) {\n  return React.isValidElement(element);\n}\n\nfunction isDOMTypeElement(element: any) {\n  return isElement(element) && typeof element.type === 'string';\n}\n\n// https://stackoverflow.com/a/39165137\nfunction getReactNode(dom: any, traverseUp = 0) {\n  const key = Object.keys(dom ?? {}).find(\n    key => key.startsWith('__reactInternalInstance$') || key.startsWith('__reactFiber$')\n  );\n\n  const domFiber = key && dom[key];\n  if (!domFiber) return null;\n\n  // react <16\n  if (domFiber._currentElement) {\n    let compFiber = domFiber._currentElement._owner;\n    for (let i = 0; i < traverseUp; i++) {\n      compFiber = compFiber._currentElement._owner;\n    }\n    return compFiber._instance;\n  }\n\n  // react 16+\n  if (domFiber.stateNode) {\n    return domFiber.stateNode;\n  }\n\n  const getCompFiber = (fiber: any) => {\n    //return fiber._debugOwner; // this also works, but is __DEV__ only\n    let parentFiber = fiber.return;\n    while (typeof parentFiber.type == 'string') {\n      parentFiber = parentFiber.return;\n    }\n    return parentFiber;\n  };\n  let compFiber = getCompFiber(domFiber);\n  for (let i = 0; i < traverseUp; i++) {\n    compFiber = getCompFiber(compFiber);\n  }\n  return compFiber.stateNode;\n}\n\nconst getRefProp = (child: any, addTarget: (target: any) => void) => {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: (target: any) => {\n        addTarget(target);\n        const { innerRef } = child.props;\n        if (typeof innerRef === 'function') innerRef(target);\n        else if (innerRef) innerRef.current = target;\n      },\n    };\n  }\n\n  return {\n    ref: (target: any) => {\n      addTarget(target);\n      const { ref } = child;\n      if (typeof ref === 'function') ref(target);\n      else if (ref) ref.current = target;\n    },\n  };\n};\n\nconst setOrAddTarget = (\n  target: any,\n  setTarget: (key: string, target: any) => void,\n  addTarget: (target: any) => void\n) => {\n  const reactNode = getReactNode(target);\n\n  if (reactNode) {\n    addTarget(reactNode);\n  } else if (target) {\n    Object.keys(target).forEach(key => {\n      const elementRef = target[key];\n      if (typeof elementRef === 'object' && elementRef.current) {\n        if (Array.isArray(elementRef.current)) {\n          elementRef.current.forEach((singleRef: React.RefObject<any>) => {\n            setTarget(key, singleRef);\n          });\n        } else {\n          setTarget(key, elementRef.current);\n        }\n      }\n    });\n  }\n};\n\nconst getTargetRefProp = (\n  child: any,\n  setTarget: (key: string, target: any) => void,\n  addTarget: (target: any) => void\n) => {\n  // has to be tested if it works, which lib does still use innerRef?\n  if (child.props.innerRef) {\n    return {\n      innerRef: (target: any) => {\n        setOrAddTarget(target, setTarget, addTarget);\n        // merge refs\n        const { innerRef } = child.props;\n        if (typeof innerRef === 'function') innerRef(target);\n        else if (innerRef) innerRef.current = target;\n      },\n    };\n  }\n\n  return {\n    ref: (target: any) => {\n      setOrAddTarget(target, setTarget, addTarget);\n      // merge refs\n      const { ref } = child;\n      if (typeof ref === 'function') ref(target);\n      else if (ref) ref.current = target;\n    },\n  };\n};\n\nconst nullishCoalescing = <T, R>(value: T, ifNullish: R): T | R => {\n  if (value === null || typeof value === 'undefined') {\n    return ifNullish;\n  }\n  return value;\n};\n\nconst setProps = (\n  tweenOrTimeline: any,\n  props: TimelineProps | TweenProps,\n  prevProps?: TimelineProps | TweenProps\n) => {\n  if (props.progress !== undefined && props.progress !== prevProps?.progress) {\n    tweenOrTimeline.progress(props.progress);\n  }\n  if (props.totalProgress !== undefined && props.totalProgress !== prevProps?.totalProgress) {\n    tweenOrTimeline.totalProgress(props.totalProgress);\n  }\n  if (\n    tweenOrTimeline.duration !== undefined &&\n    props.duration &&\n    props.duration !== prevProps?.duration\n  ) {\n    tweenOrTimeline.duration(props.duration);\n  }\n};\n\nexport {\n  getTweenFunction,\n  callTweenFunction,\n  setPlayState,\n  isEqual,\n  refOrInnerRef,\n  getRefProp,\n  getTargetRefProp,\n  nullishCoalescing,\n  setProps,\n  setInitialPlayState,\n  getInitialPaused,\n};\n","import React from 'react';\n\ntype RegisteredPlugins = 'scrollTrigger';\ntype Plugin = (targets: any) => any;\ntype Plugins = { [key in RegisteredPlugins]: Plugin } | {};\n\nexport type ContextProps = {\n  registerConsumer: (consumer: any) => void;\n  plugins?: Plugins;\n  getPlugins: (plugins?: Plugins, targets?: any) => any;\n};\n\nexport const Context = React.createContext<ContextProps>({\n  registerConsumer: () => {},\n  getPlugins: () => {},\n  plugins: {},\n});\n\nabstract class Provider<T, S = {}> extends React.Component<T, S> {\n  static contextType = Context;\n\n  consumers: any[];\n  plugins?: Plugins;\n\n  constructor(props: T) {\n    super(props);\n    this.consumers = [];\n    this.plugins = {};\n\n    this.registerConsumer = this.registerConsumer.bind(this);\n    this.getContextValue = this.getContextValue.bind(this);\n    this.getPlugin = this.getPlugin.bind(this);\n    this.getPlugins = this.getPlugins.bind(this);\n    this.renderWithProvider = this.renderWithProvider.bind(this);\n  }\n\n  registerConsumer(consumer: any) {\n    this.consumers.push(consumer);\n  }\n\n  getContextValue(plugin: Plugins = {}) {\n    return {\n      registerConsumer: this.registerConsumer,\n      // plugins: { ...this.context.plugins, ...plugin },\n      plugins: plugin,\n      getPlugins: this.getPlugins,\n    };\n  }\n\n  getPlugin(props: any, targets: any) {\n    return {};\n  }\n\n  getPlugins(plugins?: Plugins, targets?: any) {\n    return Object.keys(plugins ?? {}).reduce((acc, plugin) => {\n      if (Object.prototype.hasOwnProperty.call(plugins, plugin)) {\n        // @ts-ignore\n        return { ...acc, [plugin]: this.getPlugin(plugins[plugin], targets) };\n      }\n      return acc;\n    }, {});\n  }\n\n  renderWithProvider(output: any, plugin?: Plugins) {\n    return <Context.Provider value={this.getContextValue(plugin)}>{output}</Context.Provider>;\n  }\n}\n\nexport default Provider;\n","import { nullishCoalescing } from '../helper';\n\nlet gsap: any;\nlet _interpolate: any;\nlet _getProp: any;\nconst _getGSAP = () =>\n  gsap || (typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap);\n\ntype Point = {\n  x: number;\n  y: number;\n};\n\nfunction getDistance(p1: DOMPoint | Point, p2: DOMPoint | Point) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el: SVGCircleElement) {\n  return 2 * Math.PI * parseFloat(nullishCoalescing(el.getAttribute('r'), '1') || '0');\n}\n\nfunction getRectLength(el: SVGRectElement) {\n  return (\n    parseFloat(nullishCoalescing(el.getAttribute('width'), '1') || '0') * 2 +\n    parseFloat(nullishCoalescing(el.getAttribute('height'), '1') || '0') * 2\n  );\n}\n\nfunction getLineLength(el: SVGLineElement) {\n  return getDistance(\n    {\n      x: parseFloat(nullishCoalescing(el.getAttribute('x1'), '1') || '0'),\n      y: parseFloat(nullishCoalescing(el.getAttribute('y1'), '1') || '0'),\n    },\n    {\n      x: parseFloat(nullishCoalescing(el.getAttribute('x2'), '1') || '0'),\n      y: parseFloat(nullishCoalescing(el.getAttribute('y2'), '1') || '0'),\n    }\n  );\n}\n\nfunction getPolylineLength(el: SVGPolylineElement) {\n  const points = el.points;\n  let totalLength = 0;\n  let previousPos: DOMPoint | undefined = undefined;\n  for (let i = 0; i < points.numberOfItems; i++) {\n    const currentPos = points.getItem(i);\n    if (previousPos) totalLength += getDistance(previousPos, currentPos);\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el: SVGPolylineElement) {\n  const points = el.points;\n  return (\n    getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0))\n  );\n}\n\n// if path is splitted into multiple move commands then return longest path\nfunction getPathLength(el: SVGPathElement) {\n  if (!el.hasAttribute('d')) {\n    return el.getTotalLength();\n  }\n  const d = el.getAttribute('d');\n  const pathString = d ? d.replace(/m/gi, 'M') : null;\n\n  if (!pathString) {\n    return el.getTotalLength();\n  }\n\n  const paths = pathString\n    .split('M')\n    .filter(path => path !== '')\n    .map(path => `M${path}`);\n\n  if (paths.length === 1) {\n    return el.getTotalLength();\n  }\n\n  let maxLength = 0;\n\n  paths.forEach(path => {\n    const pathElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    pathElement.setAttribute('d', path);\n    maxLength = Math.max(maxLength, pathElement.getTotalLength());\n  });\n\n  return maxLength;\n}\n\nfunction getTotalLength(el: any) {\n  if (el.getTotalLength) {\n    return getPathLength(el);\n  }\n  switch (el.tagName.toLowerCase()) {\n    case 'circle':\n      return getCircleLength(el);\n    case 'rect':\n      return getRectLength(el);\n    case 'line':\n      return getLineLength(el);\n    case 'polyline':\n      return getPolylineLength(el);\n    case 'polygon':\n      return getPolygonLength(el);\n    default:\n      return 0;\n  }\n}\n\nexport const SvgDrawPlugin = {\n  version: '2.0.0',\n  name: 'svgDraw',\n  register(core: any, Plugin: any, propTween: any) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _getProp = gsap.getProperty;\n  },\n  init(target: any, value: number, _tween: any, index: number, targets: any) {\n    const length = getTotalLength(target);\n\n    let lengthParam = value;\n    let offsetParam = 0;\n\n    if (Array.isArray(value)) {\n      lengthParam = value[0];\n      if (value.length >= 2) {\n        offsetParam = value[1] * -1;\n      }\n    }\n\n    let data = this;\n    data.target = target;\n    data.strokeDashoffset = _interpolate(\n      _getProp(target, 'stroke-dashoffset'),\n      length * offsetParam\n    );\n    data.strokeDasharray = _interpolate(_getProp(target, 'stroke-dasharray'), [\n      lengthParam * length,\n      length,\n    ]);\n  },\n  render(progress: number, data: any) {\n    data.target.setAttribute('stroke-dashoffset', data.strokeDashoffset(progress));\n    data.target.setAttribute('stroke-dasharray', data.strokeDasharray(progress));\n  },\n};\n\n_getGSAP() && gsap.registerPlugin(SvgDrawPlugin);\n\nexport { SvgDrawPlugin as default };\n","import { nullishCoalescing } from '../helper';\n\nlet gsap: any;\nlet _interpolate: any;\nlet _format: any;\nconst _getGSAP = () =>\n  gsap || (typeof window !== 'undefined' && (gsap = window.gsap) && gsap.registerPlugin && gsap);\n\ntype Prop =\n  | {\n      value: string | number;\n      format: () => (value: string | number) => number | string;\n    }\n  | number\n  | string;\n\nexport const CountPlugin = {\n  version: '1.0.0',\n  name: 'count',\n  register(core: any, Plugin: any, propTween: any) {\n    gsap = core;\n    _interpolate = gsap.utils.interpolate;\n    _format = (value: string | number) => parseInt(value.toString(), 10);\n  },\n  init(target: any, value: Prop, _tween: any, index: number, targets: any) {\n    let inputValue = value;\n    let format = _format;\n    if (typeof value === 'object') {\n      inputValue = nullishCoalescing(value.value, 0);\n      if (value.format) {\n        format = value.format;\n      }\n    }\n\n    const initialCount = parseFloat(target.innerText);\n\n    let data = this;\n    data.target = target;\n    data.count = _interpolate(initialCount, parseFloat(inputValue.toString()));\n    data.format = format;\n  },\n  render(progress: number, data: any) {\n    data.target.innerText = data.format(data.count(progress));\n  },\n};\n\n_getGSAP() && gsap.registerPlugin(CountPlugin);\n\nexport { CountPlugin as default };\n","import React, { Fragment, ReactElement } from 'react';\nimport { gsap } from 'gsap';\nimport { PlayState } from './types';\nimport {\n  getTweenFunction,\n  setPlayState,\n  isEqual,\n  getRefProp,\n  setProps,\n  setInitialPlayState,\n} from './helper';\nimport { Context } from './Provider';\n\nimport SvgDrawPlugin from './plugins/PlugInSvgDraw';\nimport CountPlugin from './plugins/PlugInCount';\n\n// @ts-ignore\ngsap.registerPlugin(SvgDrawPlugin);\n\n// @ts-ignore\ngsap.registerPlugin(CountPlugin);\n\ntype StaggerFunction = (index: number, target: any, list: any) => number;\ntype StaggerFromValues = 'start' | 'center' | 'edges' | 'random' | 'end';\ntype EaseFunction = (value: number) => number;\n\nexport type Stagger =\n  | {\n      amount?: number;\n      each?: number;\n      from?: StaggerFromValues | number | [number, number];\n      grid?: [number, number] | 'auto';\n      axis?: 'x' | 'y';\n      ease?: string | EaseFunction;\n      repeat?: number;\n      yoyo?: boolean;\n      [prop: string]: any;\n    }\n  | number\n  | StaggerFunction;\n\nexport type TweenProps = {\n  /** One or multiple \"refable\" components  */\n  children?: React.ReactNode;\n  wrapper?: React.ReactElement;\n  target?: number | string;\n  position?: string | number;\n\n  from?: any;\n  to?: any;\n  stagger?: Stagger;\n\n  duration?: number;\n  progress?: number;\n  totalProgress?: number;\n  playState?: PlayState;\n\n  disabled?: boolean;\n  onlyInvalidateTo?: boolean;\n\n  [prop: string]: any;\n};\n\nclass Tween extends React.Component<TweenProps, {}> {\n  static displayName = 'Tween';\n  static contextType = Context;\n\n  tween: any;\n  targets: any[] = [];\n\n  constructor(props: TweenProps) {\n    super(props);\n\n    this.addTarget = this.addTarget.bind(this);\n  }\n\n  componentDidMount() {\n    this.createTween();\n\n    // props at mount\n    setProps(this.tween, this.props);\n    setInitialPlayState(this.tween, this.props);\n\n    this.context.registerConsumer(this);\n  }\n\n  componentWillUnmount() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n  }\n\n  getSnapshotBeforeUpdate() {\n    this.targets = [];\n    return null;\n  }\n\n  componentDidUpdate(prevProps: TweenProps) {\n    const {\n      children,\n      wrapper,\n\n      duration,\n      from,\n      to,\n      stagger,\n\n      progress,\n      totalProgress,\n      playState,\n      disabled,\n      onlyInvalidateTo,\n\n      onCompleteAll,\n      onCompleteAllParams,\n      onCompleteAllScope,\n      onStartAll,\n\n      position,\n      target,\n\n      ...vars\n    } = this.props;\n\n    // if children change create a new tween\n    // TODO: replace easy length check with fast equal check\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTween();\n    }\n\n    if (disabled) {\n      return;\n    }\n\n    // execute function calls\n    setProps(this.tween, this.props, prevProps);\n\n    // if \"to\" props are changed: reinit and restart tween\n    if (!isEqual(to, prevProps.to)) {\n      // is Tween\n      if (!this.tween.getChildren) {\n        this.tween.vars = { ...to, ...vars };\n\n        if (onlyInvalidateTo) {\n          var progressTmp = this.tween.progress();\n          this.tween\n            .progress(0)\n            .invalidate()\n            .progress(progressTmp);\n        } else {\n          this.tween.invalidate();\n        }\n      }\n      // is Timeline\n      // TODO: not yet ready\n      else {\n        let delay = 0;\n        this.tween.getChildren(false, true, false).forEach((tween: any) => {\n          tween.vars = { ...to, ...vars, ...{ delay } };\n          tween.invalidate();\n          // delay += stagger || 0;\n        });\n      }\n\n      if (!this.tween.paused()) {\n        this.tween.restart();\n      }\n    }\n\n    setPlayState(playState, prevProps.playState, this.tween);\n  }\n\n  createTween() {\n    if (this.tween) {\n      this.tween.kill();\n    }\n\n    if (this.props.children) {\n      this.tween = getTweenFunction(this.targets, this.props, this.context);\n    } else {\n      // why this is needed?\n      this.tween = () => {};\n    }\n  }\n\n  getGSAP() {\n    return this.tween;\n  }\n\n  setGSAP(tween: any) {\n    this.tween = tween;\n  }\n\n  addTarget(target: any) {\n    // target is null at unmount\n    if (target !== null) {\n      this.targets.push(target);\n    }\n  }\n\n  getTargets() {\n    return this.targets;\n  }\n\n  render() {\n    let { children, wrapper } = this.props;\n\n    const output = (\n      <Fragment>\n        {React.Children.map(children, child => {\n          return React.cloneElement(child as ReactElement, getRefProp(child, this.addTarget));\n        })}\n      </Fragment>\n    );\n\n    if (wrapper) {\n      return React.cloneElement(wrapper, [], output);\n    }\n\n    return output;\n  }\n}\n\nexport default Tween;\n","import React, { Fragment, ReactElement, ReactNode } from 'react';\nimport { gsap } from 'gsap';\nimport { isForwardRef, isFragment } from 'react-is';\nimport { PlayState } from './types';\nimport {\n  getInitialPaused,\n  getTargetRefProp,\n  getTweenFunction,\n  nullishCoalescing,\n  setInitialPlayState,\n  setPlayState,\n  setProps,\n} from './helper';\nimport Provider, { Context } from './Provider';\nimport { TweenProps } from './Tween';\n\ntype Label = {\n  label: string;\n  position: string | number;\n};\n\nexport type Targets = Map<string | number, ReactElement | ReactElement[]>;\nexport type TargetsRef = {\n  set: (key: string, target: any) => void;\n};\n\nexport type Target = ReactElement | null;\n\nexport type TimelineProps = {\n  children: ReactNode;\n  wrapper?: ReactElement;\n  target?: Target;\n  position?: string | number;\n  labels?: Label[];\n\n  duration?: number;\n  progress?: number;\n  totalProgress?: number;\n  playState?: PlayState;\n\n  [prop: string]: any;\n};\n\nclass Timeline extends Provider<TimelineProps> {\n  static displayName = 'Timeline';\n\n  timeline: any;\n  targets: Targets = new Map();\n\n  static defaultProps = {\n    playState: PlayState.play,\n  };\n\n  constructor(props: TimelineProps) {\n    super(props);\n\n    this.addTarget = this.addTarget.bind(this);\n    this.setTarget = this.setTarget.bind(this);\n  }\n\n  componentDidMount() {\n    this.createTimeline();\n\n    // props at mount\n    setProps(this.timeline, this.props);\n    setInitialPlayState(this.timeline, this.props);\n\n    this.context.registerConsumer(this);\n  }\n\n  componentWillUnmount() {\n    this.timeline.kill();\n  }\n\n  getSnapshotBeforeUpdate() {\n    this.targets = new Map();\n    return null;\n  }\n\n  componentDidUpdate(prevProps: TimelineProps) {\n    const { children, duration, progress, totalProgress, playState, target } = this.props;\n\n    // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.createTimeline();\n    }\n\n    // execute function calls\n    setProps(this.timeline, this.props, prevProps);\n\n    // TODO: need rerender or something if target change?\n    // if (target !== prevProps.target) {\n    //   this.forceUpdate();\n    // }\n\n    setPlayState(playState, prevProps.playState, this.timeline);\n  }\n\n  createTimeline() {\n    const {\n      children,\n      target,\n      duration,\n      progress,\n      totalProgress,\n      playState,\n      labels,\n      position,\n      ...vars\n    } = this.props;\n\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n\n    const plugins = this.context?.getPlugins(this.context?.plugins, this.targets) ?? {};\n\n    // init timeline\n    this.timeline = gsap.timeline({\n      smoothChildTiming: true,\n      paused: getInitialPaused(playState),\n      ...vars,\n      ...plugins,\n    });\n\n    if (labels) {\n      labels.forEach(label => {\n        this.timeline.addLabel(label.label, label.position);\n      });\n    }\n\n    // add tweens or nested timelines to timeline\n    this.consumers.forEach(consumer => {\n      // Tween with no children -> control Timeline target\n      if (consumer.tween && !consumer.props.children) {\n        const { position, target, stagger, ...vars } = consumer.props as TweenProps;\n\n        // get target if not nullish\n        let targets = null;\n        if (target !== null && typeof target !== 'undefined') {\n          targets = this.targets.get(target);\n        }\n\n        // if no target found -> take all Timeline targets as target\n        const tween = getTweenFunction(\n          // @ts-ignore\n          nullishCoalescing(targets, Array.from(this.targets.values())),\n          {\n            stagger,\n            ...vars,\n          }\n        );\n        this.timeline.add(tween, nullishCoalescing(position, '+=0'));\n        consumer.setGSAP(tween);\n      } else {\n        const { position } = consumer.props;\n        this.timeline.add(consumer.getGSAP(), nullishCoalescing(position, '+=0'));\n      }\n    });\n  }\n\n  getGSAP() {\n    return this.timeline;\n  }\n\n  addTarget(target: any) {\n    if (target !== null) {\n      this.targets.set(this.targets.size, target);\n    }\n  }\n\n  setTarget(key: string, target: any) {\n    if (target !== null) {\n      if (this.targets.has(key)) {\n        const targets = this.targets.get(key);\n        if (Array.isArray(targets)) {\n          this.targets.set(key, [...targets, target]);\n        } else {\n          this.targets.set(key, [targets, target]);\n        }\n      } else {\n        this.targets.set(key, target);\n      }\n    }\n  }\n\n  setTargets(targets: Targets) {\n    this.targets = targets;\n  }\n\n  getTargets() {\n    return this.targets;\n  }\n\n  cloneElement(child: any) {\n    // @ts-ignore\n    return React.cloneElement(child, getTargetRefProp(child, this.setTarget, this.addTarget));\n  }\n\n  renderTarget(target?: Target): ReactNode {\n    if (!target) {\n      return null;\n    }\n\n    // if is forwardRef clone and pass targets as ref\n    if (isForwardRef(target)) {\n      return this.cloneElement(target);\n    }\n\n    // else iterate the first level of children and set targets\n    return (\n      <Fragment>\n        {/* First render the target */}\n        {React.Children.map<ReactElement, ReactElement>(target, child => {\n          if (isFragment(child)) {\n            return React.Children.map(child.props.children, fragmentChild => {\n              return this.cloneElement(fragmentChild);\n            });\n          }\n          return this.cloneElement(child);\n        })}\n      </Fragment>\n    );\n  }\n\n  render() {\n    let { target, children, wrapper } = this.props;\n\n    const renderedTarget = this.renderTarget(target);\n\n    let output = (\n      <Fragment>\n        {renderedTarget}\n        {children}\n      </Fragment>\n    );\n\n    if (wrapper) {\n      output = React.cloneElement(wrapper, [], output);\n    }\n\n    return this.renderWithProvider(output);\n  }\n}\n\nexport default Timeline;\n","import React from 'react';\nimport { gsap } from 'gsap';\nimport { nullishCoalescing } from '../helper';\nimport Provider from '../Provider';\n\nexport type RevealProps = {\n  children: React.ReactNode;\n  trigger: React.ReactElement | null;\n  repeat: boolean;\n  root: Element | null;\n  rootMargin: string;\n  threshold: number;\n};\n\nenum EntryState {\n  unknown,\n  entered,\n  exited,\n}\n\nclass Reveal extends Provider<RevealProps> {\n  static displayName = 'Reveal';\n\n  static defaultProps = {\n    trigger: null,\n    repeat: false,\n    root: null,\n    rootMargin: '0px',\n    threshold: 0.66,\n  };\n\n  timeline: any;\n  triggerRef: HTMLElement | null = null;\n  observer: IntersectionObserver | null = null;\n\n  init() {\n    this.createTimeline();\n    this.createIntersectionObserver();\n  }\n\n  kill() {\n    this.killTimeline();\n    this.killIntersectionObserver();\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  componentWillUnmount() {\n    this.kill();\n  }\n\n  componentDidUpdate(prevProps: RevealProps) {\n    const { children, trigger } = this.props;\n\n    // if children change create a new timeline\n    // TODO: replace easy length check with fast equal check\n    // TODO: same for props.target?\n    if (React.Children.count(prevProps.children) !== React.Children.count(children)) {\n      this.init();\n    }\n\n    if (prevProps.trigger !== trigger) {\n      this.init();\n    }\n  }\n\n  createTimeline() {\n    this.killTimeline();\n\n    // init timeline\n    this.timeline = gsap.timeline({\n      smoothChildTiming: true,\n      paused: true,\n    });\n\n    // add consumers\n    this.consumers.forEach(consumer => {\n      const { position } = consumer.props;\n      this.timeline.add(consumer.getGSAP().play(), nullishCoalescing(position, 0));\n    });\n  }\n\n  killTimeline() {\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n  }\n\n  createIntersectionObserver() {\n    let { root, rootMargin, threshold } = this.props;\n\n    const options = {\n      root,\n      rootMargin,\n      threshold: [0, threshold],\n    };\n\n    this.observer = new IntersectionObserver(this.intersectionObserverCallback, options);\n\n    // It would be better if we wouldn't need an extra wrapper.\n    // But it can be problematic for example with a fadeInLeft animation\n    // were the element is out of the viewport in the initial state.\n    // In this case there wouldn't be an intersection..\n    if (!this.triggerRef) {\n      this.consumers.forEach(consumer => {\n        consumer.getTargets().forEach((target: any) => {\n          this.observer && this.observer.observe(target);\n        });\n      });\n    } else {\n      this.observer && this.observer.observe(this.triggerRef);\n    }\n  }\n\n  killIntersectionObserver() {\n    this.unobserveAll();\n    this.observer = null;\n  }\n\n  unobserveAll() {\n    if (this.observer) {\n      if (!this.triggerRef) {\n        this.consumers.forEach(consumer => {\n          consumer.getTargets().forEach((target: any) => {\n            this.observer && this.observer.unobserve(target);\n          });\n        });\n      } else {\n        this.observer && this.observer.unobserve(this.triggerRef);\n      }\n    }\n  }\n\n  intersectionObserverCallback = (entries: any) => {\n    let { repeat, threshold } = this.props;\n    let state: EntryState = EntryState.unknown;\n\n    for (const entry of entries) {\n      if (entry.isIntersecting && entry.intersectionRatio >= threshold) {\n        this.timeline.play();\n        state = EntryState.entered;\n        break;\n      } else if (!entry.isIntersecting) {\n        state = EntryState.exited;\n        break;\n      }\n    }\n\n    if (!repeat && state === EntryState.entered) {\n      this.killIntersectionObserver();\n    } else if (repeat && state === EntryState.exited) {\n      this.timeline.pause(0);\n    }\n  };\n\n  getGSAP() {\n    return this.timeline;\n  }\n\n  render() {\n    let { children, trigger } = this.props;\n\n    let output = trigger ? (\n      <trigger.type {...trigger.props} ref={(trigger: HTMLElement) => (this.triggerRef = trigger)}>\n        {children}\n      </trigger.type>\n    ) : (\n      children\n    );\n\n    return this.renderWithProvider(output);\n  }\n}\n\nexport default Reveal;\n","import React from 'react';\nimport { gsap } from 'gsap';\nimport { ScrollTrigger as ScrollTriggerPlugin } from 'gsap/dist/ScrollTrigger';\nimport Provider, { Context } from '../Provider';\n\ngsap.registerPlugin(ScrollTriggerPlugin);\n\nexport type ScrollTriggerProps = {\n  children?: React.ReactNode;\n} & gsap.plugins.ScrollTriggerInstanceVars;\n\nclass ScrollTrigger extends Provider<ScrollTriggerProps> {\n  static displayName = 'ScrollTrigger';\n  static contextType = Context;\n\n  scrollTrigger: any | null = null;\n  targets: any = {};\n\n  constructor(props: ScrollTriggerProps) {\n    super(props);\n\n    this.getPlugin = this.getPlugin.bind(this);\n  }\n\n  // override and pass registerConsumer to next parent provider\n  registerConsumer(consumer: any) {\n    this.context.registerConsumer(consumer);\n  }\n\n  componentDidMount() {\n    const { children, ...scrollTrigger } = this.props;\n\n    if (!children) {\n      this.scrollTrigger = ScrollTriggerPlugin.create(scrollTrigger);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.scrollTrigger) {\n      this.scrollTrigger.kill();\n    }\n  }\n\n  // componentDidUpdate(prevProps: ScrollTriggerProps) {\n  //   const { trigger } = this.props;\n  //\n  //   if (trigger !== prevProps.trigger) {\n  //     console.log('prevProps.trigger', prevProps.trigger);\n  //     console.log('trigger', trigger);\n  //   }\n  // }\n\n  getGSAP() {\n    return this.scrollTrigger;\n  }\n\n  getPlugin(props: any, targets: any) {\n    let { children, trigger: triggerProp, ...scrollTrigger } = props;\n\n    let trigger = triggerProp;\n\n    if (targets instanceof Map) {\n      if (trigger) {\n        const target = targets.get(trigger);\n        if (target) {\n          trigger = target;\n        }\n      } else {\n        trigger = Array.from(targets.values());\n      }\n    } else if (!trigger) {\n      trigger = targets;\n    }\n\n    return {\n      trigger,\n      ...scrollTrigger,\n    };\n  }\n\n  render() {\n    const { children, ...scrollTrigger } = this.props;\n    if (!children) {\n      return null;\n    }\n    return this.renderWithProvider(children, {\n      scrollTrigger,\n    });\n  }\n}\n\nexport default ScrollTrigger;\n","import React from 'react';\n\ntype SplitWordsProps = {\n  children: React.ReactNode;\n  wrapper: React.ReactElement;\n  delimiter?: string;\n};\n\ntype SplitCharsProps = {\n  children: React.ReactNode;\n  wrapper: React.ReactElement;\n};\n\nconst escapeRegExp = (regExp: string) => {\n  var specialChars = ['$', '^', '*', '(', ')', '+', '[', ']', '{', '}', '\\\\', '|', '.', '?', '/'];\n  var regex = new RegExp('(\\\\' + specialChars.join('|\\\\') + ')', 'g');\n  return regExp.replace(regex, '\\\\$1');\n};\n\n// TODO: possible or better to output all the refs as one array?\nexport const SplitWords = React.forwardRef<any, SplitWordsProps>(\n  ({ children, wrapper, delimiter = ' ' }, ref) => {\n    if (typeof children !== 'string') {\n      throw new Error('SplitWords only accepts a string as child.');\n    }\n    const words = children.split(new RegExp(`(${escapeRegExp(delimiter)})`, 'g'));\n    return (\n      <>\n        {words.map((word: string, i: number) => {\n          if (delimiter === ' ' && word === delimiter) {\n            return <React.Fragment key={i}> </React.Fragment>;\n          }\n          return React.cloneElement(wrapper, { ref, key: i }, word);\n        })}\n      </>\n    );\n  }\n);\n\n// TODO: possible or better to output all the refs as one array?\nexport const SplitChars = React.forwardRef<any, SplitCharsProps>(({ children, wrapper }, ref) => {\n  if (typeof children !== 'string') {\n    throw new Error('SplitChars only accepts a string as child.');\n  }\n  return (\n    <>\n      {children\n        .split(\n          /(?=(?:[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]))/\n        )\n        .map((char: string, i: number) => {\n          // TODO: enhance check for space\n          if (char === ' ') {\n            return <React.Fragment key={i}> </React.Fragment>;\n          }\n          return React.cloneElement(wrapper, { ref, key: i }, char);\n        })}\n    </>\n  );\n});\n\nexport const SplitLetters = React.forwardRef((props: any, ref) => {\n  console.warn('Deprecation warning: Use SplitChars instead of SplitLetters');\n  return <SplitChars {...props} ref={ref} />;\n});\n","import React from 'react';\nimport { PlayState } from './../types';\nimport { setPlayState } from './../helper';\nimport Provider from '../Provider';\n\ntype ControlsProps = {\n  playState?: PlayState;\n};\n\ntype ControlsState = {\n  totalProgress: number;\n  playState?: PlayState;\n  prevPlayState?: PlayState;\n};\n\nclass Controls extends Provider<ControlsProps, ControlsState> {\n  gsap: any;\n  slider: any;\n  sliderTouched: boolean = false;\n\n  state = {\n    totalProgress: 0,\n    playState: undefined,\n    prevPlayState: undefined,\n  };\n\n  containerStyle = {\n    backgroundColor: '#f0f0f0',\n    padding: '10px 10px 0 10px',\n    marginTop: '10px',\n    position: 'relative' as 'relative',\n    zIndex: 2,\n    fontFamily: 'verdana, sans-serif',\n    fontSize: '16px',\n    border: '1px solid #ccc',\n  };\n\n  buttonContainerStyle = {\n    margin: '0',\n    display: 'flex',\n    flexWrap: 'wrap' as 'wrap',\n    justifyContent: 'space-between',\n  };\n\n  buttonStyle = {\n    border: '1px solid #999',\n    backgroundColor: '#f0f0f0',\n    padding: '5px',\n    margin: '10px 10px 10px 0',\n    cursor: 'pointer',\n  };\n\n  sliderStyle = {\n    margin: '0',\n    width: '100%',\n  };\n\n  playStateStyle = {\n    color: '#999',\n    margin: '10px 0',\n    fontSize: '14px',\n  };\n\n  componentDidMount() {\n    if (this.consumers.length) {\n      this.gsap = this.consumers[0];\n\n      const gsap = this.gsap.getGSAP();\n\n      if (gsap) {\n        gsap.eventCallback('onUpdate', this.onUpdate);\n\n        if (this.props.playState) {\n          this.setPlayState(this.props.playState);\n        } else {\n          // get child initial state\n          if (gsap.paused()) {\n            this.setPlayState(PlayState.pause);\n          } else if (gsap.reversed()) {\n            this.setPlayState(PlayState.reverse);\n          } else {\n            this.setPlayState(PlayState.play);\n          }\n        }\n\n        const totalProgress = gsap.totalProgress();\n        this.slider.value = totalProgress * 100;\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    this.onUpdate();\n  }\n\n  onUpdate = () => {\n    if (this.gsap && this.slider && !this.sliderTouched) {\n      const totalProgress = this.gsap.getGSAP().totalProgress();\n      this.slider.value = totalProgress * 100;\n    }\n  };\n\n  onChange = (event: any) => {\n    if (this.gsap && this.gsap.getGSAP()) {\n      this.gsap.getGSAP().totalProgress(event.target.value / 100);\n    }\n  };\n\n  setPlayState = (state: PlayState) => {\n    this.setState(prevState => {\n      return {\n        playState: state,\n        prevPlayState: prevState.playState,\n      };\n    });\n  };\n\n  getControls = (_totalProgress: any, playState: PlayState | undefined) => (\n    <div style={this.containerStyle}>\n      <input\n        ref={el => (this.slider = el)}\n        type=\"range\"\n        style={this.sliderStyle}\n        step=\"0.001\"\n        onChange={e => this.onChange(e)}\n        onMouseDown={() => (this.sliderTouched = true)}\n        onMouseUp={() => (this.sliderTouched = false)}\n      />\n      <div style={this.buttonContainerStyle}>\n        <div>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.play)}\n          >\n            Play\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.reverse)}\n          >\n            Reverse\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.pause)}\n          >\n            Pause\n          </button>\n          <button\n            type=\"button\"\n            style={this.buttonStyle}\n            onClick={() => this.setPlayState(PlayState.stop)}\n          >\n            Stop\n          </button>\n        </div>\n        <span style={this.playStateStyle}>{playState}</span>\n      </div>\n    </div>\n  );\n\n  render() {\n    const { children } = this.props;\n    const { totalProgress, playState, prevPlayState } = this.state;\n\n    if (this.gsap) {\n      setPlayState(playState, prevPlayState, this.gsap.getGSAP());\n    }\n\n    return this.renderWithProvider(\n      <div>\n        {children}\n        {this.getControls(totalProgress, playState)}\n      </div>\n    );\n  }\n}\n\nexport default Controls;\n"]},"metadata":{},"sourceType":"module"}